<mat-card>
  <mat-card-header>
    <mat-card-title>Listagem de Usuários</mat-card-title>
    <mat-card-subtitle>&nbsp;</mat-card-subtitle>
  </mat-card-header>
  <mat-card-content>
    <table id="table" mat-table [dataSource]="usuarios" class="mat-elevation-z4">
      <ng-container matColumnDef="usuarioId">
        <th mat-header-cell *matHeaderCellDef>#</th>
        <td mat-cell *matCellDef="let usuario">{{ usuario.usuarioId }}</td>
      </ng-container>
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let usuario">{{ usuario.nome }}</td>
      </ng-container>
      <ng-container matColumnDef="fichas">
        <th mat-header-cell *matHeaderCellDef>Fichas</th>
        <td mat-cell *matCellDef="let usuario">
          <ng-container *ngIf="usuario.fichas && usuario.fichas.length > 0">
            <div *ngFor="let ficha of usuario.fichas">
              {{ ficha.nome }} <!-- Ajuste conforme necessário -->
            </div>
          </ng-container>
          <ng-container *ngIf="!usuario.fichas || usuario.fichas.length === 0">
            Nenhuma ficha disponível
          </ng-container>
        </td>
      </ng-container>
      <ng-container matColumnDef="deletar">
        <th mat-header-cell *matHeaderCellDef>Deletar</th>
        <td mat-cell *matCellDef="let usuario">
          <button color="warn" mat-stroked-button (click)="deletar(usuario.usuarioId)">
            Deletar
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="alterar">
        <th mat-header-cell *matHeaderCellDef>Alterar</th>
        <td mat-cell *matCellDef="let usuario">
          <!-- Substitua a rota conforme necessário -->
          <a color="accent" mat-stroked-button routerLink="/pages/usuario/alterar/{{ usuario.usuarioId }}">
            Alterar
          </a>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="colunasTabela"></tr>
      <tr mat-row *matRowDef="let row; columns: colunasTabela"></tr>
    </table>
  </mat-card-content>
</mat-card>
